generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "cockroachdb"
  url      = env("DATABASE_URL")
}

model User {
  id String @default(uuid()) @id
  phone String @unique
  username String
}

model Delievery {
  id String @default(uuid()) @id
  bookingDate DateTime
  from String
  to String
  vehicleId String
  vehicle Vehicle @relation(fields: [vehicleId], references: [id])
  items Item[]
  status DelieveryStatus @default(BOOKED)
}

enum DelieveryStatus {
  BOOKED
  SHIPPED
}
model Item {
  id String @default(uuid()) @id
  name String
  quantity Int
  weightPerKg Int
  delieveryId String
  delievery Delievery @relation(fields: [delieveryId], references: [id])
}

model Vehicle {
  id String @default(uuid()) @id
  name String
  weightLimit Int
  pricePerKg Int
  delieveries Delievery[]
}

model Token {
  id String @default(uuid()) @id
  token String @db.String(600)
}